<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="DocumentoAtraso" targetNamespace="http://tempuri.org/DocumentoAtraso.xsd" xmlns:mstns="http://tempuri.org/DocumentoAtraso.xsd" xmlns="http://tempuri.org/DocumentoAtraso.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="2" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="DEMOConnectionString2" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="DEMOConnectionString2 (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Relatorio.Properties.Settings.GlobalReference.Default.DEMOConnectionString2" Provider="System.Data.SqlClient" />
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="cwkcwkGestaoConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="cwkcwkGestaoConnectionString (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Relatorio.Properties.Settings.GlobalReference.Default.cwkcwkGestaoConnectionString" Provider="System.Data.SqlClient" />
          <Connection AppSettingsObjectName="Settings" AppSettingsPropertyName="TestecwkGestaoConnectionString" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="TestecwkGestaoConnectionString (Settings)" ParameterPrefix="@" PropertyReference="ApplicationSettings.Relatorio.Properties.Settings.GlobalReference.Default.TestecwkGestaoConnectionString" Provider="System.Data.SqlClient" />
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="dtDocumentosAtrasoTableAdapter" GeneratorDataComponentClassName="dtDocumentosAtrasoTableAdapter" Name="dtDocumentosAtraso" UserDataComponentName="dtDocumentosAtrasoTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="cwkcwkGestaoConnectionString (Settings)" DbObjectName="" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT *
FROM (select doc.ID IDDocumento, doc.Codigo CodigoDocumento, doc.NumDocumento NumeroDocumento, doc.Dt DataDocumento, doc.DtVencimento Vencimento, f.ID IDFilial,
(DATEDIFF(day, doc.DtVencimento, GETDATE())) DiasAtraso, 
0 AtrasoAcumulado,
pes.Nome Pessoa, pes.ID IDPessoa, doc.Valor, doc.Saldo, doc.Situacao, doc.DtUltimaBaixa UltimaBaixa, 
td.Nome TipoDocumento, doc.Parcela, doc.QtParcela QuantidadeParcela, 
(select sum(m.Valor) from Movimento m where m.Tipo = 3 and doc.ID = m.IDDocumento) as Juros
from Documento doc
join Pessoa pes on pes.ID = doc.IDPessoa
join TipoDocumento td on td.ID = doc.IDTipoDocumento
join Filial f on f.ID = doc.IDFilial
where doc.Tipo = 1 
and doc.IDFilial IN (select * from F_RetornaTabelaLista(@IDEmpresas, ','))
and ((@IDPessoa != -1 and pes.ID = @IDPessoa and doc.DtVencimento between @DataInicial and @DataFinal and doc.Saldo &gt; 0) or
(@IDPessoa = -1 and doc.DtVencimento between @DataInicial and @DataFinal and doc.Saldo &gt; 0))) DocAtraso
ORDER BY Vencimento
</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="IDPessoa" ColumnName="" DataSourceName="" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@IDPessoa" Precision="0" Scale="0" Size="4" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="DataInicial" ColumnName="" DataSourceName="" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@DataInicial" Precision="0" Scale="0" Size="8" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="true" AutogeneratedName="DataFinal" ColumnName="" DataSourceName="" DataTypeServer="datetime" DbType="DateTime" Direction="Input" ParameterName="@DataFinal" Precision="0" Scale="0" Size="8" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                      <Parameter AllowDbNull="false" AutogeneratedName="IDEmpresas" ColumnName="" DataSourceName="" DataTypeServer="varchar" DbType="AnsiString" Direction="Input" ParameterName="@IDEmpresas" Precision="0" Scale="0" Size="1024" SourceColumn="" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="IDDocumento" DataSetColumn="IDDocumento" />
              <Mapping SourceColumn="CodigoDocumento" DataSetColumn="CodigoDocumento" />
              <Mapping SourceColumn="DataDocumento" DataSetColumn="DataDocumento" />
              <Mapping SourceColumn="Vencimento" DataSetColumn="Vencimento" />
              <Mapping SourceColumn="DiasAtraso" DataSetColumn="DiasAtraso" />
              <Mapping SourceColumn="NumeroDocumento" DataSetColumn="NumeroDocumento" />
              <Mapping SourceColumn="Pessoa" DataSetColumn="Pessoa" />
              <Mapping SourceColumn="Valor" DataSetColumn="Valor" />
              <Mapping SourceColumn="Saldo" DataSetColumn="Saldo" />
              <Mapping SourceColumn="Situacao" DataSetColumn="Situacao" />
              <Mapping SourceColumn="UltimaBaixa" DataSetColumn="UltimaBaixa" />
              <Mapping SourceColumn="TipoDocumento" DataSetColumn="TipoDocumento" />
              <Mapping SourceColumn="Parcela" DataSetColumn="Parcela" />
              <Mapping SourceColumn="QuantidadeParcela" DataSetColumn="QuantidadeParcela" />
              <Mapping SourceColumn="Juros" DataSetColumn="Juros" />
              <Mapping SourceColumn="IDPessoa" DataSetColumn="IDPessoa" />
              <Mapping SourceColumn="IDFilial" DataSetColumn="IDFilial" />
              <Mapping SourceColumn="AtrasoAcumulado" DataSetColumn="AtrasoAcumulado" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="DocumentoAtraso" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="DocumentoAtraso" msprop:Generator_UserDSName="DocumentoAtraso">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="dtDocumentosAtraso" msprop:Generator_TableClassName="dtDocumentosAtrasoDataTable" msprop:Generator_TableVarName="tabledtDocumentosAtraso" msprop:Generator_RowChangedName="dtDocumentosAtrasoRowChanged" msprop:Generator_TablePropName="dtDocumentosAtraso" msprop:Generator_RowDeletingName="dtDocumentosAtrasoRowDeleting" msprop:Generator_RowChangingName="dtDocumentosAtrasoRowChanging" msprop:Generator_RowEvHandlerName="dtDocumentosAtrasoRowChangeEventHandler" msprop:Generator_RowDeletedName="dtDocumentosAtrasoRowDeleted" msprop:Generator_RowClassName="dtDocumentosAtrasoRow" msprop:Generator_UserTableName="dtDocumentosAtraso" msprop:Generator_RowEvArgName="dtDocumentosAtrasoRowChangeEvent">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="IDDocumento" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnIDDocumento" msprop:Generator_ColumnPropNameInRow="IDDocumento" msprop:Generator_ColumnPropNameInTable="IDDocumentoColumn" msprop:Generator_UserColumnName="IDDocumento" type="xs:int" />
              <xs:element name="CodigoDocumento" msprop:Generator_ColumnVarNameInTable="columnCodigoDocumento" msprop:Generator_ColumnPropNameInRow="CodigoDocumento" msprop:Generator_ColumnPropNameInTable="CodigoDocumentoColumn" msprop:Generator_UserColumnName="CodigoDocumento" type="xs:int" />
              <xs:element name="DataDocumento" msprop:Generator_ColumnVarNameInTable="columnDataDocumento" msprop:Generator_ColumnPropNameInRow="DataDocumento" msprop:Generator_ColumnPropNameInTable="DataDocumentoColumn" msprop:Generator_UserColumnName="DataDocumento" type="xs:dateTime" minOccurs="0" />
              <xs:element name="Vencimento" msprop:Generator_ColumnVarNameInTable="columnVencimento" msprop:Generator_ColumnPropNameInRow="Vencimento" msprop:Generator_ColumnPropNameInTable="VencimentoColumn" msprop:Generator_UserColumnName="Vencimento" type="xs:dateTime" minOccurs="0" />
              <xs:element name="DiasAtraso" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnDiasAtraso" msprop:Generator_ColumnPropNameInRow="DiasAtraso" msprop:Generator_ColumnPropNameInTable="DiasAtrasoColumn" msprop:Generator_UserColumnName="DiasAtraso" type="xs:int" minOccurs="0" />
              <xs:element name="NumeroDocumento" msprop:Generator_ColumnVarNameInTable="columnNumeroDocumento" msprop:Generator_ColumnPropNameInRow="NumeroDocumento" msprop:Generator_ColumnPropNameInTable="NumeroDocumentoColumn" msprop:Generator_UserColumnName="NumeroDocumento" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="10" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Pessoa" msprop:Generator_ColumnVarNameInTable="columnPessoa" msprop:Generator_ColumnPropNameInRow="Pessoa" msprop:Generator_ColumnPropNameInTable="PessoaColumn" msprop:Generator_UserColumnName="Pessoa" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="80" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Valor" msprop:Generator_ColumnVarNameInTable="columnValor" msprop:Generator_ColumnPropNameInRow="Valor" msprop:Generator_ColumnPropNameInTable="ValorColumn" msprop:Generator_UserColumnName="Valor" type="xs:decimal" minOccurs="0" />
              <xs:element name="Saldo" msprop:Generator_ColumnVarNameInTable="columnSaldo" msprop:Generator_ColumnPropNameInRow="Saldo" msprop:Generator_ColumnPropNameInTable="SaldoColumn" msprop:Generator_UserColumnName="Saldo" type="xs:decimal" minOccurs="0" />
              <xs:element name="Situacao" msprop:Generator_ColumnVarNameInTable="columnSituacao" msprop:Generator_ColumnPropNameInRow="Situacao" msprop:Generator_ColumnPropNameInTable="SituacaoColumn" msprop:Generator_UserColumnName="Situacao" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="10" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="UltimaBaixa" msprop:Generator_ColumnVarNameInTable="columnUltimaBaixa" msprop:Generator_ColumnPropNameInRow="UltimaBaixa" msprop:Generator_ColumnPropNameInTable="UltimaBaixaColumn" msprop:Generator_UserColumnName="UltimaBaixa" type="xs:dateTime" minOccurs="0" />
              <xs:element name="TipoDocumento" msprop:Generator_ColumnVarNameInTable="columnTipoDocumento" msprop:Generator_ColumnPropNameInRow="TipoDocumento" msprop:Generator_ColumnPropNameInTable="TipoDocumentoColumn" msprop:Generator_UserColumnName="TipoDocumento">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="60" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Parcela" msprop:Generator_ColumnVarNameInTable="columnParcela" msprop:Generator_ColumnPropNameInRow="Parcela" msprop:Generator_ColumnPropNameInTable="ParcelaColumn" msprop:Generator_UserColumnName="Parcela" type="xs:int" minOccurs="0" />
              <xs:element name="QuantidadeParcela" msprop:Generator_ColumnVarNameInTable="columnQuantidadeParcela" msprop:Generator_ColumnPropNameInRow="QuantidadeParcela" msprop:Generator_ColumnPropNameInTable="QuantidadeParcelaColumn" msprop:Generator_UserColumnName="QuantidadeParcela" type="xs:int" minOccurs="0" />
              <xs:element name="Juros" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnJuros" msprop:Generator_ColumnPropNameInRow="Juros" msprop:Generator_ColumnPropNameInTable="JurosColumn" msprop:Generator_UserColumnName="Juros" type="xs:decimal" minOccurs="0" />
              <xs:element name="IDPessoa" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnIDPessoa" msprop:Generator_ColumnPropNameInRow="IDPessoa" msprop:Generator_ColumnPropNameInTable="IDPessoaColumn" msprop:Generator_UserColumnName="IDPessoa" type="xs:int" />
              <xs:element name="IDFilial" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnIDFilial" msprop:Generator_ColumnPropNameInRow="IDFilial" msprop:Generator_ColumnPropNameInTable="IDFilialColumn" msprop:Generator_UserColumnName="IDFilial" type="xs:int" />
              <xs:element name="AtrasoAcumulado" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnAtrasoAcumulado" msprop:Generator_ColumnPropNameInRow="AtrasoAcumulado" msprop:Generator_ColumnPropNameInTable="AtrasoAcumuladoColumn" msprop:Generator_UserColumnName="AtrasoAcumulado" type="xs:int" minOccurs="0" />
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1" msdata:PrimaryKey="true">
      <xs:selector xpath=".//mstns:dtDocumentosAtraso" />
      <xs:field xpath="mstns:IDDocumento" />
    </xs:unique>
  </xs:element>
</xs:schema>