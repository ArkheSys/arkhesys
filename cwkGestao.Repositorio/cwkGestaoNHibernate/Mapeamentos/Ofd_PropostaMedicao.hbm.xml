<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="cwkGestao.Modelo" namespace="cwkGestao.Modelo">
  <class name="Ofd_PropostaMedicao" table="Ofd_PropostaMedicao">
    <id name="ID" column="ID">
      <generator class="identity" />
    </id>
	
	<many-to-one name="Proposta" column="IDProposta" class="Ofd_Proposta" />
	<property name="Sequencia" column="Sequencia" type="Int32" />
	<property name="DataVerificacao" column="DataVerificacao" type="DateTime" />
	<property name="Medicao" column="Medicao" type="Int32" />
	<property name="MedicaoFaturada" column="MedicaoFaturada" type="bool" />
	<property name="Relatorio" column="Relatorio" type="Int32" />
	<property name="DataRelatorio" column="DataRelatorio" type="DateTime" />
	<many-to-one name="Maquina" column="IDMaquina" class="Ofd_Maquinas" lazy="false" />
	<many-to-one name="Operador1" column="IDOperador1" class="Pessoa" lazy="false"/>
	<many-to-one name="Operador2" column="IDOperador2" class="Pessoa" lazy="false"/>
	<property name="InicioTrabalho" column="InicioTrabalho" type="DateTime" />
	<property name="TerminoTrabalho" column="TerminoTrabalho" type="DateTime" />
	<property name="InicioHorarioAlmoco" />
	<property name="TerminoHorarioAlmoco" />
	<property name="Chuva" column="Chuva" type="bool" />
	<property name="TerrenoMolhado" column="TerrenoMolhado" type="bool" />
	<property name="Domingo" column="Domingo" type="bool" />
	<property name="Feriado" column="Feriado" type="bool" />
	<property name="ManutencaoConcerto" column="ManutencaoConcerto" type="bool" />
	<property name="IncData" />
	<property name="IncUsuario" column="IncUsuario" type="string" />
	<property name="AltData" />
	<property name="AltUsuario" column="AltUsuario" type="string" />
  <property name="TempoTrabalho" column="TempoTrabalho" type="decimal" />
  <property name="Produtividade" column="Produtividade" type="decimal" />
  <many-to-one name="Ofd_Medicao" column="IDOfd_Medicao" class="Ofd_Medicao" />    
    
  <bag name="Perfuracoes" table="Ofd_PropostaMedicaoPerfuracao" inverse="true" cascade="all-delete-orphan" lazy="false" >
    <key column="IDPropostaMedicao" />
    <one-to-many class="Ofd_PropostaMedicaoPerfuracao" />
  </bag>

  <bag name="Ocorrencias" cascade="all-delete-orphan" lazy="false" >
    <key column="IDPropostaMedicao" />
    <one-to-many class="Ofd_PropostaMedicaoOcorrencias" />
  </bag>
  </class>
</hibernate-mapping>
