<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="cwkGestao.Modelo" namespace="cwkGestao.Modelo">
	<class name="MovCaixa" table="MovCaixa">

		<id name="ID" column="ID">
			<generator class="identity" />
		</id>
		<property name="Codigo" column="Codigo" type="Int32" />
		<many-to-one name="Banco" column="IDBanco" class="Banco" />
		<many-to-one name="Filial" column="IDFilial" class="Filial" />
		<property name="Dt" column="Dt" type="DateTime" />
		<property name="DtDigitacao" column="DtDigitacao" type="DateTime" />
		<property name="NumDocumento" column="NumDocumento" type="string" length="50" />
		<property name="Ent_Sai" column="Ent_Sai" type="Ent_SaiMovCaixa" />
		<property name="Valor" column="Valor" type="decimal" />
		<many-to-one name="Historico" column="IDHistorico" class="Historico" />
		<property name="ComplementoHist" column="ComplementoHist" type="string" length="180" />
		<property name="NumBanco" column="NumBanco" type="string" length="20" />
		<property name="NumAgencia" column="NumAgencia" type="string" length="8" />
		<property name="NumContaCorrente" column="NumContaCorrente" type="string" length="8" />
		<property name="NumCheque" column="NumCheque" type="string" length="8" />
		<property name="Emitente" column="Emitente" type="string" length="60" />
		<property name="DtConciliacao" />
		<property name="IncData" column="IncData" type="DateTime" />
		<property name="IncUsuario" column="IncUsuario" type="string" length="20" />
		<property name="AltData" column="AltData" type="DateTime" />
		<many-to-one name="MovCaixaRelacionado" column="IDMovCaixa" class="MovCaixa" cascade="all-delete-orphan"   />
		<many-to-one name="FormaPagamento" column="IDFormaPagamento" class="FormaPagamento" lazy="false" />
		<many-to-one name="Cheque" column="IDCheque" class="Cheque" lazy="false" />
		<property name="AltUsuario" column="AltUsuario" type="string" length="20" />
		<property name="IDFluxoCaixa" column="IDFluxoCaixa" type="Int32" />

		<bag name="Movimentos" table="Movimento" cascade="all" >
			<key column="IDMovCaixa" />
			<one-to-many class="Movimento" />
		</bag>

	</class>
</hibernate-mapping>
