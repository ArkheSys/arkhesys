<?xml version="1.0" encoding="utf-8" ?>

<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="cwkGestao.Modelo" namespace="cwkGestao.Modelo">
  <class name="Cheque" table="Cheque">
    <id name="ID" column="ID">
      <generator class="identity" />
    </id>
    
    <property name="Banco" column="Banco" type="string" length="5" />
    <property name="Agencia" column="Agencia" type="string" length="15" />
    <property name="ContaCorrente" column="ContaCorrente" type="string" length="15" />
    <property name="Numero" column="Numero" type="string" length="15" />
    <property name="Emitente" column="Emitente" type="string" length="80" />
    <property name="CNPJCPF_Emitente" column="CNPJCPF_Emitente" type="string" length="20" />
    <property name="Valor" column="Valor" type="decimal" />
    <property name="ChTerceiro" column="ChTerceiro" type="Boolean" />
    <property name="Vencimento" column="Vencimento" type="DateTime" />
    <many-to-one name="Pessoa" column="IDPessoa" class="Pessoa" lazy="false"/>
    <many-to-one name="Conta" column="IDConta" class="Banco" lazy="false"/>
    <property name="Status"/>
    <property name="IncData" column="IncData" type="DateTime" />
    <property name="IncUsuario" column="IncUsuario" type="string" length="20" />
    <property name="AltData" column="AltData" type="DateTime" />
    <property name="AltUsuario" column="AltUsuario" type="string" length="20" />
    
    <bag name="ChequeHistorico" table="ChequeHistorico" inverse="true" cascade="all-delete-orphan" lazy ="false">
      <key column="IDCheque" />
      <one-to-many class="ChequeHistorico" />
    </bag>

    <bag name="MovCaixas" table="MovCaixa" inverse="true" lazy ="false">
      <key column="IDCheque" />
      <one-to-many class="MovCaixa" />
    </bag>
    
  </class>
</hibernate-mapping>
